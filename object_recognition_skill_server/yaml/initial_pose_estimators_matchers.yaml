initial_pose_estimators_matchers:
    publish_pointclouds_only_if_there_is_subscribers: false
    feature_matchers:
        display_feature_matching: false
        save_descriptors_in_binary_format : true
        keypoint_descriptors:
            feature_descriptor_k_search: 0
            feature_descriptor_radius_search: 0.012
            # feature_descriptor_radius_search: 0.003
            fpfh:
                number_subdivisions_f1: 11
                number_subdivisions_f2: 11
                number_subdivisions_f3: 11
            # pfh:
            #    use_internal_cache: true
            #    maximum_cache_size: 33554432
            # shot:
            #    lrf_radius: 0.5
            # shape_context_3d:
            #    minimal_radius: 0.008
            #    point_density_radius: 0.004
            # unique_shape_context:
            #    minimal_radius: 0.004
            #    point_density_radius: 0.006
            #    local_radius: 0.012
            # esf:
            #    feature_descriptor_radius_search: 0.015
        matchers:
            max_correspondence_distance: 0.012
            max_number_of_registration_iterations: 200000
            sample_consensus_initial_alignment_prerejective:
                convergence_time_limit_seconds: 2.0
                similarity_threshold: 0.5
                inlier_fraction: 0.75
                number_of_samples: 10
                correspondence_randomness: 30
                registered_cloud_publish_topic: 'initial_alignment'
                reference_cloud_publish_topic: 'initial_alignment_reference_cloud'
#            sample_consensus_initial_alignment:
#                min_sample_distance: 0.5
#                number_of_samples: 3
#                correspondence_randomness: 15
    point_matchers:
        # 1_iterative_closest_point:
        1_iterative_closest_point_with_normals:
            correspondence_estimation_approach: 'CorrespondenceEstimationBackProjection'
            correspondence_estimation_k: 0
            correspondence_estimation_normals_angle_filtering_threshold: 120.0
            correspondence_estimation_normals_angle_penalty_factor: 3.0
            # transformation_estimation_approach: 'TransformationEstimationPointToPlaneLLSWeighted'
            convergence_time_limit_seconds: 2.2
            max_correspondence_distance: 0.07
            transformation_epsilon: 1e-5
            euclidean_fitness_epsilon: 1e-6
            max_number_of_registration_iterations: 500
            max_number_of_ransac_iterations: 0
            ransac_outlier_rejection_threshold: 0.02
            match_only_keypoints: false
            display_cloud_aligment: false
            maximum_number_of_displayed_correspondences: 0
            rotation_epsilon: 0.002
            correspondence_randomness: 50
            maximum_optimizer_iterations: 100
            use_reciprocal_correspondences: false
            reference_cloud_publish_topic: 'intermediate_alignment_reference_cloud'
        # iterative_closest_point_non_linear:
        2_iterative_closest_point:
        # 2_iterative_closest_point_with_normals:
        # iterative_closest_point_generalized:
            correspondence_estimation_approach: 'CorrespondenceEstimationBackProjection'
            correspondence_estimation_k: 0
            correspondence_estimation_normals_angle_filtering_threshold: 60.0
            correspondence_estimation_normals_angle_penalty_factor: 4.0
            # transformation_estimation_approach: 'TransformationEstimationPointToPlaneLLSWeighted'
            convergence_time_limit_seconds: 0.6
            max_correspondence_distance: 0.015
            transformation_epsilon: 1e-5
            euclidean_fitness_epsilon: 1e-6
            max_number_of_registration_iterations: 500
            max_number_of_ransac_iterations: 0
            ransac_outlier_rejection_threshold: 0.02
            match_only_keypoints: false
            display_cloud_aligment: false
            maximum_number_of_displayed_correspondences: 0
            rotation_epsilon: 0.002
            correspondence_randomness: 50
            maximum_optimizer_iterations: 100
            use_reciprocal_correspondences: false
            reference_cloud_publish_topic: 'final_alignment_reference_cloud'


tracking_matchers:
    ignore_height_corrections: false
    pose_tracking_timeout: 1.0
    pose_tracking_minimum_number_of_failed_registrations_since_last_valid_pose: -1
    pose_tracking_maximum_number_of_failed_registrations_since_last_valid_pose: -1
    pose_tracking_recovery_timeout: 0.5
    pose_tracking_recovery_minimum_number_of_failed_registrations_since_last_valid_pose: -1
    pose_tracking_recovery_maximum_number_of_failed_registrations_since_last_valid_pose: -1


outlier_detectors:
    euclidean_outlier_detector:
        max_inliers_distance: 0.003
        aligned_pointcloud_outliers_publish_topic: 'aligned_pointcloud_outliers'
        aligned_pointcloud_inliers_publish_topic: 'aligned_pointcloud_inliers'


outlier_detectors_reference_pointcloud:
    euclidean_outlier_detector:
        max_inliers_distance: 0.003
        reference_pointcloud_outliers_publish_topic: 'reference_pointcloud_outliers'
        reference_pointcloud_inliers_publish_topic: 'reference_pointcloud_inliers'


transformation_validators_initial_alignment:
    euclidean_transformation_validator:
        max_outliers_percentage: 0.1
        max_outliers_percentage_reference_pointcloud: 0.84
        max_transformation_angle: -1.0
        max_transformation_distance: -1.0
        max_new_pose_diff_angle: -1.0
        max_new_pose_diff_distance: -1.0
        max_root_mean_square_error: -1.0
        max_root_mean_square_error_reference_pointcloud: -1.0
        min_overriding_root_mean_square_error: -1.0
        min_overriding_outliers_percentage: -1.0
        min_overriding_outliers_percentage_reference_pointcloud: -1.0
        min_inliers_angular_distribution: -1.0
        max_outliers_angular_distribution: -1.0
